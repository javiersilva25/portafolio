<ion-header>
  <ion-toolbar>
    <ion-title>Historial</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ng-container *ngIf="historial.length > 0; else noHistorial">
    <ion-card *ngFor="let item of historial">
      <ion-card-header>
        <ion-card-title>{{ item.rutina?.nombre_rutina || 'Nombre no disponible' }}</ion-card-title>
        <ion-card-subtitle>{{ item.rutina?.descripcion || 'Descripci√≥n no disponible' }}</ion-card-subtitle>
      </ion-card-header>
    
      <ion-card-content>
        <p><strong>Fecha:</strong> {{ item.fecha_realizacion | date: 'medium' }}</p>
    
        <div *ngIf="item.rutina?.ejercicios?.length > 0">
          <h3>Ejercicios:</h3>
    
          <ion-list>
            <ion-item *ngFor="let ejercicio of item.rutina.ejercicios">
              <ion-label class="ion-text-wrap">
                <h2>{{ ejercicio.nombre_ejercicio }}</h2>
                <p>{{ ejercicio.series }} series x {{ ejercicio.repeticiones }} reps x {{ ejercicio.peso }} kg</p>
              </ion-label>
            </ion-item>
          </ion-list>
          <ion-button color="red" fill="clear" (click)="eliminar(item.id)">
                <ion-icon name="trash-outline"></ion-icon>
          </ion-button>
        </div>
        <div *ngIf="!item.rutina?.ejercicios?.length">
          <ion-text color="medium">
            <p>No hay ejercicios registrados para esta rutina.</p>
          </ion-text>
        </div>
    
      </ion-card-content>
    </ion-card>    
  </ng-container>

  <ng-template #noHistorial>
    <ion-text color="medium">
      <h2>No hay entrenamientos registrados todav√≠a üèãÔ∏è</h2>
    </ion-text>
  </ng-template>

  <ion-button expand="full" class="ion-margin-top" (click)="volverAlHome()">
    Volver al Home
  </ion-button>

</ion-content>
