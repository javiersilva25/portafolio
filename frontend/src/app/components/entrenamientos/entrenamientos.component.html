<ion-header>
  <ion-toolbar>
    <ion-title>Crear Rutina</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <ion-card class="crear-ejercicio-card">
    <ion-card-header>
      <ion-card-title>Información de la Rutina</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="floating">Nombre de la Rutina</ion-label>
        <ion-input [(ngModel)]="rutina.nombre_rutina"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Descripción</ion-label>
        <ion-input [(ngModel)]="rutina.descripcion"></ion-input>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card class="crear-ejercicio-card">
    <ion-card-header>
      <ion-card-title>Agregar Ejercicio</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label position="floating">Nombre del Ejercicio</ion-label>
        <ion-select interface="popover" [(ngModel)]="ejercicioActual.nombre_ejercicio">
          <ion-select-option *ngFor="let ejercicio of ejerciciosDisponibles" [value]="ejercicio.nombre">
            {{ ejercicio.nombre }}
          </ion-select-option>
        </ion-select>
      </ion-item>


      <datalist id="sugerenciasEjercicios">
        <option *ngFor="let ejercicio of ejerciciosDisponibles" [value]="ejercicio.nombre"></option>
      </datalist>

      <ion-item>
        <ion-label position="floating">Series</ion-label>
        <ion-input type="number" [(ngModel)]="ejercicioActual.series" min="0"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Repeticiones</ion-label>
        <ion-input type="number" [(ngModel)]="ejercicioActual.repeticiones" min="0"></ion-input>
      </ion-item>

      <ion-item>
        <ion-label position="floating">Peso (kg)</ion-label>
        <ion-input type="number" [(ngModel)]="ejercicioActual.peso" min="0"></ion-input>
      </ion-item>

      <ion-button expand="full" (click)="agregarEjercicio()">Agregar Ejercicio</ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card *ngFor="let ejercicio of rutina.ejercicios; let i = index" class="ejercicio-card">
    <ion-card-header>
      <ion-card-title>
        <ion-icon name="barbell-outline" style="vertical-align: middle; margin-right: 8px;"></ion-icon>
        {{ ejercicio.nombre_ejercicio }}
      </ion-card-title>
    </ion-card-header>

    <ion-card-content>
      <p><strong>Series:</strong> {{ ejercicio.series }}</p>
      <p><strong>Repeticiones:</strong> {{ ejercicio.repeticiones }}</p>
      <p><strong>Peso:</strong> {{ ejercicio.peso }} kg</p>

      <ion-buttons class="ion-justify-content-end ion-margin-top">
        <ion-button color="primary" size="small" (click)="editarEjercicio(i)">
          <ion-icon name="create-outline"></ion-icon>
        </ion-button>
        <ion-button color="danger" size="small" (click)="eliminarEjercicio(i)">
          <ion-icon name="trash-outline"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-card-content>
  </ion-card>

  <ion-card class="ion-margin-top">
    <ion-card-content>
      <ion-button expand="block" (click)="guardarRutina()">Guardar Rutina</ion-button>
      <ion-button expand="block" (click)="goToHistorial()">Ver Historial</ion-button>
    </ion-card-content>
  </ion-card>
</ion-content>
